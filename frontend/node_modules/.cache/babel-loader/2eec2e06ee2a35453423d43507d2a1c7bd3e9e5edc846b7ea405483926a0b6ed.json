{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { ref } from 'vue';\nimport { useRouter } from 'vue-router';\nimport axios from 'axios';\n\n// API endpoint\nconst API_URL = \"http://localhost:8080\";\nconst loginEndpoint = \"/api/auth/login\";\n\n// Reactivity with ref\n\nexport default {\n  __name: 'LoginPage',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const email = ref('');\n    const password = ref('');\n    const router = useRouter();\n\n    // Handle login process\n    async function handleLogin() {\n      try {\n        const response = await axios.post(API_URL + loginEndpoint, {\n          email: email.value,\n          password: password.value\n        });\n\n        // Simulate storing token in localStorage\n        const userData = response.data.data;\n        localStorage.setItem('token', userData.token);\n\n        // Redirect based on user role\n        if (userData.roles[0] === \"ROLE_ADMIN\") {\n          router.push(\"/admin\"); // Redirect to admin page\n        } else {\n          router.push(\"/\"); // Redirect to home page\n        }\n      } catch (error) {\n        console.error(\"Login failed:\", error.response?.data || error.message);\n        alert(\"Invalid email or password\");\n      }\n    }\n    const __returned__ = {\n      API_URL,\n      loginEndpoint,\n      email,\n      password,\n      router,\n      handleLogin,\n      ref,\n      get useRouter() {\n        return useRouter;\n      },\n      get axios() {\n        return axios;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","useRouter","axios","API_URL","loginEndpoint","email","password","router","handleLogin","response","post","value","userData","data","localStorage","setItem","token","roles","push","error","console","message","alert"],"sources":["C:/Users/USER/scentify/src/components/LoginPage.vue"],"sourcesContent":["<script setup>\r\nimport { ref } from 'vue';\r\nimport { useRouter } from 'vue-router';\r\nimport axios from 'axios';\r\n\r\n// API endpoint\r\nconst API_URL = \"http://localhost:8080\";\r\nconst loginEndpoint = \"/api/auth/login\";\r\n\r\n// Reactivity with ref\r\nconst email = ref('');\r\nconst password = ref('');\r\nconst router = useRouter();\r\n\r\n// Handle login process\r\nasync function handleLogin() {\r\n  try {\r\n    const response = await axios.post(API_URL + loginEndpoint, {\r\n      email: email.value,\r\n      password: password.value,\r\n    });\r\n\r\n    // Simulate storing token in localStorage\r\n    const userData = response.data.data;\r\n    localStorage.setItem('token', userData.token);\r\n\r\n    // Redirect based on user role\r\n    if (userData.roles[0] === \"ROLE_ADMIN\") {\r\n      router.push(\"/admin\"); // Redirect to admin page\r\n    } else {\r\n      router.push(\"/\"); // Redirect to home page\r\n    }\r\n  } catch (error) {\r\n    console.error(\"Login failed:\", error.response?.data || error.message);\r\n    alert(\"Invalid email or password\");\r\n  }\r\n}\r\n</script>\r\n\r\n<template>\r\n  <NavbarPage />\r\n  \r\n  <div class=\"flex justify-center items-center py-16 bg-creamy\">\r\n    <div class=\"bg-white shadow-lg rounded-lg p-6 w-96\">\r\n      \r\n      <!-- Title -->\r\n      <h2 class=\"text-2xl font-semibold text-center mb-6\">Log In</h2>\r\n\r\n      <!-- Email Input -->\r\n      <input \r\n        v-model=\"email\" \r\n        type=\"email\" \r\n        placeholder=\"Email\" \r\n        class=\"w-full border rounded-lg p-2 mb-4\"\r\n      />\r\n\r\n      <!-- Password Input -->\r\n      <input \r\n        v-model=\"password\" \r\n        type=\"password\" \r\n        placeholder=\"Password\" \r\n        class=\"w-full border rounded-lg p-2 mb-4\"\r\n      />\r\n\r\n      <!-- Login Button -->\r\n      <button \r\n        @click=\"handleLogin\" \r\n        class=\"w-full bg-greeny text-white p-2 rounded-lg font-semibold\"\r\n      >\r\n        Log In\r\n      </button>\r\n\r\n      <!-- Register Link -->\r\n      <p class=\"text-center text-sm mt-3\">\r\n        Need an account? \r\n        <router-link to=\"/register\" class=\"text-red-500 font-semibold\">Register</router-link>\r\n      </p>\r\n\r\n      <!-- Uncomment for Google login -->\r\n      <!--\r\n      <div class=\"mt-4 text-center text-gray-500\">OR</div>\r\n      <button class=\"w-full border p-2 mt-3 flex items-center justify-center rounded-lg\">\r\n        <img src=\"@/assets/google-icon.png\" class=\"w-5 mr-2\" /> Sign In With Google\r\n      </button>\r\n      -->\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<style scoped>\r\n/* Custom Tailwind CSS */\r\n.bg-creamy {\r\n  background-color: #f8f8f8; /* Light background color */\r\n}\r\n\r\n.bg-greeny {\r\n  background-color: #28a745; /* Green color for the button */\r\n}\r\n\r\nbutton {\r\n  transition: background-color 0.3s ease;\r\n}\r\n\r\nbutton:hover {\r\n  background-color: #218838; /* Darker green when hovered */\r\n}\r\n\r\ninput {\r\n  background-color: #fafafa; /* Light input background */\r\n  border: 1px solid #ccc; /* Light border */\r\n}\r\n\r\ninput:focus {\r\n  border-color: #28a745; /* Green border on focus */\r\n  outline: none;\r\n}\r\n</style>\r\n"],"mappings":";AACA,SAASA,GAAG,QAAQ,KAAK;AACzB,SAASC,SAAS,QAAQ,YAAY;AACtC,OAAOC,KAAK,MAAM,OAAO;;AAEzB;AACA,MAAMC,OAAO,GAAG,uBAAuB;AACvC,MAAMC,aAAa,GAAG,iBAAiB;;AAEvC;;;;;;;;IACA,MAAMC,KAAK,GAAGL,GAAG,CAAC,EAAE,CAAC;IACrB,MAAMM,QAAQ,GAAGN,GAAG,CAAC,EAAE,CAAC;IACxB,MAAMO,MAAM,GAAGN,SAAS,CAAC,CAAC;;IAE1B;IACA,eAAeO,WAAWA,CAAA,EAAG;MAC3B,IAAI;QACF,MAAMC,QAAQ,GAAG,MAAMP,KAAK,CAACQ,IAAI,CAACP,OAAO,GAAGC,aAAa,EAAE;UACzDC,KAAK,EAAEA,KAAK,CAACM,KAAK;UAClBL,QAAQ,EAAEA,QAAQ,CAACK;QACrB,CAAC,CAAC;;QAEF;QACA,MAAMC,QAAQ,GAAGH,QAAQ,CAACI,IAAI,CAACA,IAAI;QACnCC,YAAY,CAACC,OAAO,CAAC,OAAO,EAAEH,QAAQ,CAACI,KAAK,CAAC;;QAE7C;QACA,IAAIJ,QAAQ,CAACK,KAAK,CAAC,CAAC,CAAC,KAAK,YAAY,EAAE;UACtCV,MAAM,CAACW,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;QACzB,CAAC,MAAM;UACLX,MAAM,CAACW,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC;QACpB;MACF,CAAC,CAAC,OAAOC,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,eAAe,EAAEA,KAAK,CAACV,QAAQ,EAAEI,IAAI,IAAIM,KAAK,CAACE,OAAO,CAAC;QACrEC,KAAK,CAAC,2BAA2B,CAAC;MACpC;IACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}