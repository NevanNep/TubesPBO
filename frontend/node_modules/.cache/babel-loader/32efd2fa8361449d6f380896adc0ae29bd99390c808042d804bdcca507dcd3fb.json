{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nexport default {\n  data() {\n    return {\n      defaultProduct: {\n        id: 1,\n        name: 'Miss Dior',\n        price: 3000000,\n        description: 'Parfum elegan dengan aroma floral dan sentuhan jasmine.',\n        image: '/images/parfumeMissDior.jpg',\n        stock: 5\n      },\n      product: {},\n      reviews: [],\n      newReview: {\n        user: '',\n        rating: '',\n        text: ''\n      }\n    };\n  },\n  methods: {\n    addToCart() {\n      if (this.product.stock === 0) {\n        alert('Maaf, produk ini sedang habis stok.');\n        return;\n      }\n      const cart = JSON.parse(localStorage.getItem('cartItems')) || [];\n      const existingIndex = cart.findIndex(p => p.id === this.product.id);\n      if (existingIndex !== -1) {\n        cart[existingIndex].quantity += 1;\n      } else {\n        cart.push({\n          ...this.product,\n          quantity: 1\n        });\n      }\n      localStorage.setItem('cartItems', JSON.stringify(cart));\n\n      // Kurangi stok dan simpan ulang\n      this.product.stock -= 1;\n      this.saveProductStock();\n      alert('Produk berhasil ditambahkan ke keranjang!');\n    },\n    saveProductStock() {\n      let storedProducts = JSON.parse(localStorage.getItem('products')) || {};\n      storedProducts[this.product.id] = {\n        ...this.product\n      };\n      localStorage.setItem('products', JSON.stringify(storedProducts));\n    },\n    loadProduct() {\n      let storedProducts = JSON.parse(localStorage.getItem('products')) || {};\n      this.product = storedProducts[this.defaultProduct.id] || {\n        ...this.defaultProduct\n      };\n    },\n    submitReview() {\n      this.reviews.push({\n        ...this.newReview\n      });\n      this.newReview = {\n        user: '',\n        rating: '',\n        text: ''\n      };\n      alert('Ulasan berhasil dikirim!');\n    },\n    generateSampleReviews() {\n      return [{\n        user: 'Ayu',\n        rating: 5,\n        text: 'Wangi elegan dan tahan lama.'\n      }, {\n        user: 'Rani',\n        rating: 4,\n        text: 'Suka aromanya, cocok dipakai malam hari.'\n      }, {\n        user: 'Dina',\n        rating: 5,\n        text: 'Perfume favoritku sejauh ini!'\n      }];\n    }\n  },\n  created() {\n    this.loadProduct();\n    this.reviews = this.generateSampleReviews();\n  }\n};","map":{"version":3,"names":["data","defaultProduct","id","name","price","description","image","stock","product","reviews","newReview","user","rating","text","methods","addToCart","alert","cart","JSON","parse","localStorage","getItem","existingIndex","findIndex","p","quantity","push","setItem","stringify","saveProductStock","storedProducts","loadProduct","submitReview","generateSampleReviews","created"],"sources":["C:\\Users\\USER\\OneDrive\\SMT 4\\PBO\\scentify\\src\\components\\ProductDetail.vue"],"sourcesContent":["<template>\r\n  <div class=\"container my-5\">\r\n    <div class=\"row g-4 align-items-center\">\r\n      <!-- Gambar Produk -->\r\n      <div class=\"col-md-5 text-center\">\r\n        <img :src=\"product.image\" :alt=\"product.name\" class=\"img-fluid rounded shadow product-image\" />\r\n      </div>\r\n\r\n      <!-- Detail Produk -->\r\n      <div class=\"col-md-7\">\r\n        <h2 class=\"fw-bold mb-3\">{{ product.name }}</h2>\r\n        <p class=\"text-muted\">{{ product.description }}</p>\r\n        <h4 class=\"text-danger fw-bold mb-2\">Rp {{ product.price.toLocaleString() }}</h4>\r\n\r\n        <!-- Stok Produk -->\r\n        <p :class=\"{'text-success': product.stock > 0, 'text-danger': product.stock === 0}\" class=\"fw-semibold mb-4\">\r\n          Stok: {{ product.stock > 0 ? product.stock : 'Habis' }}\r\n        </p>\r\n\r\n        <button\r\n          @click=\"addToCart\"\r\n          class=\"btn btn-danger btn-lg\"\r\n          :disabled=\"product.stock === 0\"\r\n          :title=\"product.stock === 0 ? 'Produk ini sedang habis' : 'Tambah ke Keranjang'\"\r\n        >\r\n          <i class=\"bi bi-cart-plus me-2\"></i>\r\n          {{ product.stock === 0 ? 'Stok Habis' : 'Tambah ke Keranjang' }}\r\n        </button>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Review Produk -->\r\n    <div class=\"mt-5\">\r\n      <h4 class=\"section-title\">Review Produk</h4>\r\n      <div v-if=\"reviews.length === 0\" class=\"text-muted fst-italic\">Belum ada review.</div>\r\n      <div v-else class=\"list-group mt-3\">\r\n        <div\r\n          v-for=\"(review, index) in reviews\"\r\n          :key=\"index\"\r\n          class=\"list-group-item\"\r\n        >\r\n          <div class=\"d-flex justify-content-between\">\r\n            <strong>{{ review.user }}</strong>\r\n            <span class=\"text-warning\"><i class=\"bi bi-star-fill\"></i> {{ review.rating }}/5</span>\r\n          </div>\r\n          <p class=\"mb-0\">{{ review.text }}</p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      defaultProduct: {\r\n        id: 1,\r\n        name: 'Miss Dior',\r\n        price: 3000000,\r\n        description: 'Parfum elegan dengan aroma floral dan sentuhan jasmine.',\r\n        image: '/images/parfumeMissDior.jpg',\r\n        stock: 5,\r\n      },\r\n      product: {},\r\n      reviews: [],\r\n      newReview: {\r\n        user: '',\r\n        rating: '',\r\n        text: '',\r\n      },\r\n    };\r\n  },\r\n  methods: {\r\n    addToCart() {\r\n      if (this.product.stock === 0) {\r\n        alert('Maaf, produk ini sedang habis stok.');\r\n        return;\r\n      }\r\n\r\n      const cart = JSON.parse(localStorage.getItem('cartItems')) || [];\r\n\r\n      const existingIndex = cart.findIndex(p => p.id === this.product.id);\r\n      if (existingIndex !== -1) {\r\n        cart[existingIndex].quantity += 1;\r\n      } else {\r\n        cart.push({ ...this.product, quantity: 1 });\r\n      }\r\n\r\n      localStorage.setItem('cartItems', JSON.stringify(cart));\r\n\r\n      // Kurangi stok dan simpan ulang\r\n      this.product.stock -= 1;\r\n      this.saveProductStock();\r\n\r\n      alert('Produk berhasil ditambahkan ke keranjang!');\r\n    },\r\n\r\n    saveProductStock() {\r\n      let storedProducts = JSON.parse(localStorage.getItem('products')) || {};\r\n      storedProducts[this.product.id] = { ...this.product };\r\n      localStorage.setItem('products', JSON.stringify(storedProducts));\r\n    },\r\n\r\n    loadProduct() {\r\n      let storedProducts = JSON.parse(localStorage.getItem('products')) || {};\r\n      this.product = storedProducts[this.defaultProduct.id] || { ...this.defaultProduct };\r\n    },\r\n\r\n    submitReview() {\r\n      this.reviews.push({ ...this.newReview });\r\n      this.newReview = { user: '', rating: '', text: '' };\r\n      alert('Ulasan berhasil dikirim!');\r\n    },\r\n\r\n    generateSampleReviews() {\r\n      return [\r\n        { user: 'Ayu', rating: 5, text: 'Wangi elegan dan tahan lama.' },\r\n        { user: 'Rani', rating: 4, text: 'Suka aromanya, cocok dipakai malam hari.' },\r\n        { user: 'Dina', rating: 5, text: 'Perfume favoritku sejauh ini!' },\r\n      ];\r\n    }\r\n  },\r\n  created() {\r\n    this.loadProduct();\r\n    this.reviews = this.generateSampleReviews();\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n@import url('https://fonts.googleapis.com/css2?family=Playfair+Display:wght@600&display=swap');\r\n\r\n.product-image {\r\n  max-height: 400px;\r\n  object-fit: cover;\r\n  border-radius: 12px;\r\n  transition: transform 0.3s ease;\r\n}\r\n.product-image:hover {\r\n  transform: scale(1.03);\r\n}\r\n.section-title {\r\n  font-family: 'Playfair Display', serif;\r\n  font-size: 1.8rem;\r\n  color: #000000;\r\n  border-left: 5px solid #000000;\r\n  padding-left: 12px;\r\n  margin-bottom: 1rem;\r\n}\r\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}